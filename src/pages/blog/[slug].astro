---
import Nav from '../../components/Nav.astro';
import Footer from '../../components/Footer.astro';
import fs from 'fs';
import { MDX } from '@astrojs/mdx/runtime';

const { params } = Astro;
const slug = params.slug;
let content = '';
try {
  content = fs.readFileSync(new URL(`../../src/content/posts/${slug}.mdx`, import.meta.url), 'utf-8');
} catch (e) {
  content = '# Not Found\nPost not found.';
}
---
<html lang="en">
  <head>
    <title>{slug} â€” MySite</title>
  </head>
  <body>
    <Nav />
    <main class="container py-12">
      <article class="prose">
        <MDX content={content} />
      </article>
    </main>
    <Footer />
  </body>
</html>
